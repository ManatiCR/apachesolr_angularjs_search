<div class="booleans-popup--container" data-ng-if="vm.booleansPopup.show">
  <button class="booleans-popup--and" data-ng-click="vm.addBoolean('AND')">AND</button>
  <button class="booleans-popup--or" data-ng-click="vm.addBoolean('OR')">OR</button>
  <button class="booleans-popup--not" data-ng-click="vm.addBoolean('NOT')">NOT</button>
</div>
<input class="advanced-search--field-value form-{{vm.field.type}}" type="{{ vm.field.type }}" data-ng-if="vm.field.type != 'fulltext' && !vm.field.autocompletePath && vm.field.format !== 'fromto'" data-ng-model="vm.field.value"  data-ng-keypress="vm.textChange($event)"/>
<textarea class="advanced-search--field-value form-textarea" data-ng-if="vm.field.type == 'fulltext'" data-ng-model="vm.field.value" data-ng-keypress="vm.textChange($event)"></textarea>
<div class="advanced-search--field-autocomplete-searching" data-ng-show="vm.field.searching" data-ng-init="vm.searching = false">
  <span class="advanced-search--field-autocomplete-searching-text">Searching...</span>
</div>
<ui-select class="advanced-search--field-autocomplete" multiple data-ng-if="vm.field.autocompletePath" data-ng-model="vm.field.value" theme="bootstrap" data-ng-disabled="disabled" reset-search-input="true" data-ng-change="vm.optionSelected()">
  <ui-select-match placeholder="Select a {{ vm.field.label }}">
    <span class="{{$item.class || 'item'}}">{{ $item.name }}</span>
  </ui-select-match>
  <ui-select-choices repeat="choice in vm.field.choices track by choice.id" refresh="vm.parentScope.main.getChoices(vm.field, $select.search)" refresh-delay="0">
    <div data-ng-if="!choice.path" data-ng-bind-html="choice.name | highlight: $select.search"></div>
    <div class="choice" data-ng-if="choice.path" data-ng-click=$event.preventDefault();>
      <span>{{ choice.name }} ({{ choice.resultCount }})</span>
      <button data-ng-click="vm.parentScope.main.startPopup(choice, $event, vm.parentScope.groupIndex, vm.parentScope.$index);" title="{{ choice.name }}" id="choice-{{ choice.id }}" class="{{ choice.classes }}">i</button>
      <input type="hidden" class="choice-{{ choice.id }}-url" value="{{ choice.path }}"/>
    </div>
  </ui-select-choices>
</ui-select>
