!function(){"use strict";angular.module("apachesolrAngularjsSearch",["ngCookies","ngResource","ngSanitize","ngTouch"]),Drupal.behaviors.apachesolrAngularjs={attach:function(a){function b(){function a(){var a=angular.element(document.getElementById("mainController")),b=a.injector().get("drupalDataService");b.setDrupalData(d),a.scope().$apply()}var b=Drupal.settings.apachesolrAngularjs.fields,c=Drupal.settings.apachesolrAngularjs.pageId,d={fields:b,pageId:c};angular.element(document).ready(a)}jQuery("#advancedSearch",a).once("advancedSearch",b)}}}(),function(){"use strict";function a(a,b){var c=this;a.$on("drupalDataReady",function(){function a(){for(f in c.fields)c.fields[f].value=""}function d(){var a="",b="";for(f in c.fields)c.fields[f].value&&("checkbox"===c.fields[f].type?(b+=f,b+=":true",b+=" OR "):("__fulltext_search"!==f&&(a+=f,a+=":"),a+=c.fields[f].value,a+=" AND "));var d=a;b?(d+="("+b,d=d.substr(0,d.length-4)+")"):d=d.substr(0,d.length-5),document.getElementById("input-query").setAttribute("value",d),document.getElementById("input-pageid").setAttribute("value",i),document.advancedSearchForm.submit()}c.clearForm=a,c.processForm=d,c.fields={};var e=angular.element(document.getElementById("mainController"));angular.element(e).unbind("drupalDataReady");var f,g=b.getDrupalData(),h=g.fields,i=g.pageId;for(f in h)"boolean"===h[f].type?h[f].type="checkbox":"string"===h[f].type?h[f].type="text":"numeric"===h[f].type&&(h[f].type="number");c.fields=h})}angular.module("apachesolrAngularjsSearch").controller("mainController",a)}(),function(){"use strict";function a(a){function b(b){d=b,a.$emit("drupalDataReady")}function c(){return d}var d={};return{setDrupalData:b,getDrupalData:c}}angular.module("apachesolrAngularjsSearch").factory("drupalDataService",a)}();